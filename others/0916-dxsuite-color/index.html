<!doctype html><html><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-143399608-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-143399608-2');</script><meta name=generator content="Hugo 0.74.1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href=https://vicugna-pacos.github.io/css/normalize.css><link rel=stylesheet href=https://vicugna-pacos.github.io/css/main.css><link rel=stylesheet href=https://vicugna-pacos.github.io/css/pagination.css><title>DX Suite の画像補正豆知識 - アルパカのメモ</title></head><body><header class=header-area><div class=content-container><span class=logo-text><a href=/>アルパカのメモ</a></span></div></header><div class=content-container><nav><ol class=breadcrumbnav><li>Home</li><li>その他</li></ol></nav></div><main class=main-area><div class="content-container single"><div class=side><aside class=toc><p>目次</p><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a><ul><li><a href=#ocr豆知識>OCR豆知識</a></li></ul></li><li><a href=#カラー画像>カラー画像</a><ul><li><a href=#フィルタ色背景除去hsvモデル>フィルタ：色背景除去(HSVモデル)</a><ul><li><a href=#色相h>色相(H)</a></li><li><a href=#彩度sと明度v>彩度(S)と明度(V)</a></li></ul></li><li><a href=#変換rgb係数>変換：RGB係数</a></li></ul></li><li><a href=#グレー画像>グレー画像</a><ul><li><a href=#フィルタ平滑化処理>フィルタ：平滑化処理</a></li><li><a href=#変換>変換</a></li></ul></li></ul></nav></aside></div><div class=main><article><h1>DX Suite の画像補正豆知識</h1><div class=article-info><div><i class=material-icons>calendar_today</i>
<time datetime="2020-09-16 14:37:05 +0900 +0900" itemprop=datePublished>2020-09-16</time>
(最終更新：<time datetime="2020-10-13 10:00:00 +0900 +0900" itemprop=dateModified>2020-10-13</time>)</div><div><i class=material-icons>label</i>
DX Suite
OCR
画像補正</div></div><h2 id=はじめに>はじめに</h2><p>AI-OCRサービスの DX Suite にある画像補正設定の、各設定項目がよく分からなかったので調べてみた。</p><p>※ あくまでもサービス利用者の視点なので、実態とは違うことを書いている可能性あり。</p><h3 id=ocr豆知識>OCR豆知識</h3><p>だいたいのOCRエンジンは、事前処理として画像を <strong>カラー画像 → グレー画像 → 二値化画像</strong> と変換していく。
最後の二値化画像がいかにOCRしやすい状態になっているかが、OCRの精度に影響する。
DX Suite も同じで、それぞれのステップごとの設定を調整することによって、よりOCRしやすい画像を得られることがある。</p><h2 id=カラー画像>カラー画像</h2><p>カラー原稿をグレー画像へ変換する際に行う補正について設定する。</p><h3 id=フィルタ色背景除去hsvモデル>フィルタ：色背景除去(HSVモデル)</h3><p>HSVモデルとは、色相(H)、彩度(S)、明度(V)の3つからなる色空間のこと。
それぞれ、0～255の範囲で、残したい値の範囲を指定する。
既定値は <code>H=0～255, S=0～200, V=0～180</code> で、鮮やかで明るい色が除去されるようになっている。</p><h4 id=色相h>色相(H)</h4><p>色合いを0～360までの数字にしたもの。
DX Suite では、残したい色相を0～255の範囲で指定する。下記に、両方の場合の数字を大まかに記載した。</p><p><img src=HueScale.png alt></p><p>参考：<a href=https://ja.wikipedia.org/wiki/%E8%89%B2%E7%9B%B8 target=_blank rel=noopener>色相 - Wikipedia</a></p><h4 id=彩度sと明度v>彩度(S)と明度(V)</h4><p>鮮やかさと明るさ。
Google検索で出てくるカラーピッカーを使うと、以下のような感じ。</p><p><img src=2020-09-16-15-46-53.png alt></p><h3 id=変換rgb係数>変換：RGB係数</h3><p>カラー画像をグレースケールへ変換するときの設定値。
既定値は <code>R=0.299, G=0.587, B=0.114</code> で、これは「NTSC加重平均法」での重み係数となっている。
カラーをグレーへ変換するときはRGBの平均値を求めるが、上記の重み係数をRGBそれぞれに加えると、より自然に見えるグレー画像が出来上がる。
テレビ放送でも使われている国際規格らしい。</p><p>DX Suite で設定できる係数の範囲は0～1なので、例えばRを0にすれば、赤色の部分がより黒く変換される。</p><p>参考：</p><ul><li><a href=http://www.igunoss.co.jp/imageproc/imageproc1-3.html target=_blank rel=noopener>グレースケール変換 - IGUNOSS,Inc.</a></li><li><a href=https://talavax.com/grayscale2.html target=_blank rel=noopener>より自然なグレースケール変換 - 【ゆるゆるプログラミング】</a></li></ul><h2 id=グレー画像>グレー画像</h2><p>グレースケール化した画像を二値化する際に行う補正の設定。</p><h3 id=フィルタ平滑化処理>フィルタ：平滑化処理</h3><p>画像の輝度の変化を滑らかにする処理。ノイズ除去ができる。やり方が、ガウシアン、中間値、平均値、の3パターンがある。ある特定の画素(ピクセル)を中心として、周りの画素とどう比べてどう輝度を直すかが異なる。</p><h3 id=変換>変換</h3><p>二値化(白と黒しかない画像)する際の処理方法を指定する。</p><ul><li>マトリックス単位二値化 - 薄い色でも、周りと比較して色が濃いのであれば黒とする、らしい。詳細不明。</li><li>自動二値化 - 適切な閾値を自動で判定して二値化する。</li><li>閾値二値化 - 閾値を手動で指定して二値化する。</li></ul></article></div></div></main><footer class=footer-area><div class=content-container><hr><div class=author-container><div class=avatar><img src=/images/avatar.jpg></div><div class=author><p class=author-name>alpaca</p><p>おおむねSIerにいますが、他業種の社内SEだったこともあります。</p><p><a href=https://github.com/vicugna-pacos><img src=/images/GitHub-Mark-32px.png style=width:2rem></a></p></div></div></div></footer></body></html>